(this["webpackJsonpapp faktr finance frontend"]=this["webpackJsonpapp faktr finance frontend"]||[]).push([[14],{426:function(e,t,a){"use strict";var c=a(3),n=a(38),A=a(0),i=a.n(A),o=a(755),r=a(756),s=a(177),l=a(757),j=a(7),d=["border","boxShadow","children","content","contentClass","contentSX","darkTitle","secondary","shadow","sx","title"],b={marginLeft:"30px","& .MuiCardHeader-action":{mr:0}},u=i.a.forwardRef((function(e,t){e.border,e.boxShadow;var a=e.children,A=e.content,i=void 0===A||A,u=e.contentClass,x=e.contentSX,p=e.darkTitle,h=e.secondary,O=(e.shadow,e.sx),m=void 0===O?{}:O,f=e.title,y=Object(n.a)(e,d);return Object(j.jsxs)(o.a,Object(c.a)(Object(c.a)({ref:t},y),{},{sx:Object(c.a)({backgroundColor:"rgb(252 253 253)"},m),children:[!p&&f&&Object(j.jsx)(r.a,{sx:b,title:Object(j.jsx)(s.a,{variant:"cardTitle",children:f}),action:h}),i&&Object(j.jsx)(l.a,{sx:x,className:u,children:a}),!i&&a]}))}));u.displayName="MainCard",t.a=u},427:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var c=a(456),n=function(e,t){var a=Object(c.a)(e).split(".");return 1===a.length?Object(c.a)(e):(a.push(a.pop().substring(0,t)),a.join("."))}},536:function(e,t,a){"use strict";t.a="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4gKgSUNDX1BST0ZJTEUAAQEAAAKQbGNtcwQwAABtbnRyUkdCIFhZWiAH4wABAA4ADAAYADVhY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAADhjcHJ0AAABQAAAAE53dHB0AAABkAAAABRjaGFkAAABpAAAACxyWFlaAAAB0AAAABRiWFlaAAAB5AAAABRnWFlaAAAB+AAAABRyVFJDAAACDAAAACBnVFJDAAACLAAAACBiVFJDAAACTAAAACBjaHJtAAACbAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABwAAAAcAHMAUgBHAEIAIABiAHUAaQBsAHQALQBpAG4AAG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAMgAAABwATgBvACAAYwBvAHAAeQByAGkAZwBoAHQALAAgAHUAcwBlACAAZgByAGUAZQBsAHkAAAAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEoAAAXj///zKgAAB5sAAP2H///7ov///aMAAAPYAADAlFhZWiAAAAAAAABvlAAAOO4AAAOQWFlaIAAAAAAAACSdAAAPgwAAtr5YWVogAAAAAAAAYqUAALeQAAAY3nBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cAAFR7AABMzQAAmZoAACZmAAAPXP/bAEMACAYGBwYFCAcHBwkJCAoMFA0MCwsMGRITDxQdGh8eHRocHCAkLicgIiwjHBwoNyksMDE0NDQfJzk9ODI8LjM0Mv/bAEMBCQkJDAsMGA0NGDIhHCEyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/AABEIAHgAeAMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAABQYDBAcCAf/EADgQAAEDAgIHBQYGAgMAAAAAAAEAAgMEBRExBhIhIkFRcRMUQmGBFTJyobHBI0NEUoLRkeFTwvD/xAAaAQEAAgMBAAAAAAAAAAAAAAAABAUBAwYC/8QALBEAAgEDAgQFAwUAAAAAAAAAAAECAwQRITEFEhNBImGhsfAU0eEzNEJRgf/aAAwDAQACEQMRAD8A7+iIgCIiAIiIAtc1cTaxtKXYSOaXAc8M/qsksoijc88PmqbfaqWCspKmN2ErXOcD/hQ7i7VKpGmt37Ei2odaXKXZFrUNZHXUcVTH7rxjhyPELZUtPKyjQ04vDCIiyYCIiAIiIAiIgCIiAIiwVU3Ywkj3jsC8VKkacHOWyMpZeEaVdNrydmDutz8yqvpH+n/l9lPYqB0i/Tfy+y5OnWlWuupLv9i1so8tWKMuitz7tVmjkd+FMd3Hg/8A2ruuUAlpBBIIOII4LotkuQuVuZISO2buyDz5+ua6S1qZXIxxO3w+rHvuSSIillSEREAREQBERAEREB8JURVTdtMSPdGwLcrp9SPs2ned8go1c9xi6y+hHtuSKMf5BQOkX6b+X2UjX3SltzMZ5N/hG3a4+ipt20hlqqiNxha2FuODcdv+VE4daVatVSitNfY30LulC4jBvX8GVSlhufs24tc84QS7snlyPooWCqiqR+G7bxacwsytsSpy1WGi9lGNWDjumdXBxGK+qA0Xufe6Lu0jsZoABt8TeB9MlPq0hJSjzI5erTdKbhLsERF6NYREQBERAF5e4MaXOOAAxK9KE0kqLjT0OtQU3bcXnHEtHPV4rXVlKMG4rLMSkormexhrq6GEOqKmVsbTlifkOaqtx0ollxjoWmJn/I73j0HBQdRUz1cplqJXSP5uOXTksSpqVhFS56vil6FTc8UqVPDT8K9T65znuLnuLnHaSTiStSs8HqtpalZ4PVXFn+svnY18M/dx/wB9mawJa4FpIIyIUjTXVzcGzjWH7hn/ALUaitqtCnVWJo7GFSUHmLLharl3Sriq4Ha7WneAOY4hdNgmZUQsmjdrMe0OaeYXBYpZIXh0bi13lxXWNC/agtRbcKfsY8daHWODiDnu8Aq76WVB6PMWa72casVPaS9SzIiIVoREQBERAFoXO5ttUTKieNxpcdWWRgxMeORI5fRb68TRRzwvilYHxvaWuaciDmFmOM67Hmak4vleGV65aO22/wAArKORjJXjFs0W1r+o49c1RLlaay0z9nVxFoPuvG1ruhW3WG5aE3t8dJK7u0h142v2skbyI5jLHNW61aS2rSSDudVGyOd4wdTy7Q74Tx+q2V7FqPPDVfNyjVSjczdOfgqLt2fz5k5ytSs8Hqr1etCpIdae1kyMzMDjvDoePTNUirhkM0cIjeZcS3U1TrY8sM8VHtYuNZZ+aEiwozpXcVNf37M0lI2myV96n7KjhLgDvyO2MZ1P2zVpsGgEk2rUXgmKPMU7TvH4jw6Db0U7dtKLTozT9yo42STsGDaeHANZ8R4fVWbqtvlprLOhqXEY7C06L2rRun77WyxyTxjF082Aaz4Rw65qatVzbdoXVMET20pOEUjxgZMM3AcBy5rm1ALnpzfWtrZXd1iOvI1mxkbeQHM5Y55rq0UTIImRRMDI2NDWtGQAyCj14cmknmXsQlUlUeWe0RFHPQREQBERAEREBEaRWSO+Wt8BwbM3fhefC7+jkVx6WKSnnfFKxzJY3FrmnNpC7wqJp5o/rsN3pmbzBhUNHEcHemR8uisLG45X05bMouM2PUh14LVb+a/BGWHTmqodWC461TT5CT8xg/7D5q5uuthbB7bM1Nhq6gnwGv8ADzx8lx9YpeClVrKnN8y0IXC+JVuoqM9V57rQtt/08q7hrU9u1qWmOwv/ADHjr4R02+aqcMMtTUMghYZJZHBrWjNxKxro2gGjvYxC81TPxJBhTtPhbxd68PLqsScLenlIv1mctSzaOWOKxWplM3B0zt+aQeJ39DIKXRFTyk5PLJSWFhBERYMhERAEREAREQBeXsbIxzHNDmuGBBGwhekQHH9KLE6x3MtYCaSXF0LuQ4t6j6YKvy8F26+WiG9WySklwDjvRv8A2O4FcdfbKx11bbBCe9mTs9Tz/rjjyV1bXHUp4lujmpWP01/GUF4ZZx5aPT7G/ono+6/XQCRp7nDg6Y8+TfX6LsbGtYwNaA1oGAAGAAUfY7PDZLXFRxbSN6R/F7jmf/cFJKsuK3Vn5HRQhyoIiLQewiIgCIiAIiIAiIgCIiALT9l0ntX2l2Le9dn2Wv5f358kRZTa2MNJ7m4iIsGQiIgCIiAIiID/2Q=="},537:function(e,t,a){"use strict";t.a=a.p+"static/media/polygon.3bae6d1e.svg"},810:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(15),A=a(813),i=a(399),o=a(0),r=a.n(o),s=a(391),l=a(811),j=a(823),d=a(807),b=a(426),u=a(405),x=a(177),p=a(403),h=a(536),O=a(537),m=a(427),f=a(55),y=a(7),g=Object(i.a)((function(e){return{card:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"260px",border:"1px solid ".concat(e.palette.common.mainLight),overflow:"hidden",boxShadow:"1px 1px 0.5px #eee","& .MuiTypography-root":{fontSize:"15px",fontWeight:600,color:"#666"},"&:hover":{borderColor:e.palette.common.mainLight}},quoteButton:{width:"100%",height:"46px",fontSize:"16px",fontWeight:"bold",borderBottomLeftRadius:"15px",borderBottomRightRadius:"15px",color:e.palette.common.main,background:e.palette.common.mainLight,"&:hover":{background:e.palette.common.main,color:"#FFF"}}}})),v=function(e){var t=e.id,a=e.title,c=e.icon,n=e.cost,i=e.capacity,o=e.next,l=e.onClickQuote,j=g(),d=Object(f.c)((function(e){return e.app.nativeToken}));return Object(y.jsx)(r.a.Fragment,{children:Object(y.jsxs)(u.a,{className:j.card,children:[Object(y.jsx)(s.a,{px:3,sx:{height:"75%"},children:Object(y.jsxs)(A.a,{container:!0,direction:"column",justifyContent:"space-around",sx:{height:"100%",paddingTop:"20px"},children:[Object(y.jsx)(A.a,{item:!0,children:Object(y.jsxs)(s.a,{sx:{display:"flex",alignItem:"center"},children:[Object(y.jsx)("img",{src:c,alt:"logo",style:{width:"30px",height:"30px"}}),Object(y.jsx)(x.a,{sx:{px:3,fontSize:"17px !important"},children:a})]})}),Object(y.jsxs)(A.a,{item:!0,children:[Object(y.jsxs)(s.a,{sx:{display:"flex",justifyContent:"space-between",pb:"10px"},children:[Object(y.jsx)(x.a,{children:"Chains:"}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)("img",{src:h.a,style:{width:"24px",heigth:"24px",marginRight:"5px"},alt:"eth"}),Object(y.jsx)("img",{src:O.a,style:{width:"24px",heigth:"24px"},alt:"polygon"})]})]}),Object(y.jsxs)(s.a,{sx:{display:"flex",justifyContent:"space-between",pb:"15px"},children:[Object(y.jsx)(x.a,{children:"Yearly Cost:"}),Object(y.jsx)(x.a,{children:n})]}),Object(y.jsxs)(s.a,{sx:{display:"flex",justifyContent:"space-between",pb:"10px"},children:[Object(y.jsx)(x.a,{children:"Capacity:"}),Object(y.jsx)(x.a,{sx:{whiteSpace:"nowrap"},children:(i.ETH>=1e3?Object(m.a)(i.ETH/1e3,2)+"k "+d:Object(m.a)(i.ETH,2)+" "+d)+(i.USDT>=1e3?"/"+Object(m.a)(i.USDT/1e3,2)+"k USDT":NaN+Object(m.a)(i.USDT,2)+"USDT")})]})]})]})}),Object(y.jsx)(s.a,{children:Object(y.jsx)(p.a,{className:j.quoteButton,onClick:function(){l(t),o()},children:"Get Quote"})})]})})},I=a(82),k=a(814),M=a(758),C=a(65),T=function(e){var t=e.protocols,a=e.next,c=e.onClickQuote,i=Object(o.useState)(""),s=Object(n.a)(i,2),l=s[0],j=s[1];return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsxs)(A.a,{container:!0,sx:{mb:3},alignItems:"center",children:[Object(y.jsx)(x.a,{sx:{mx:3,fontSize:"20px",color:"#666",display:{xs:"none",sm:"block"}},children:"Search:"}),Object(y.jsx)(k.a,{value:l,onChange:function(e){return j(e.target.value)},startAdornment:Object(y.jsx)(M.a,{position:"start",children:Object(y.jsx)(I.k,{stroke:1.5,size:"1.2rem"})})})]}),Object(y.jsx)(A.a,{container:!0,spacing:2,children:null===t||void 0===t?void 0:t.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())})).map((function(e,t){return Object(y.jsx)(A.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(y.jsx)(v,{id:t,title:e.name,icon:C.a.API_SERVER+e.logo,cost:Object(m.a)(100*e.yearly_cost,2)+"%",capacity:e.capacity,next:a,onClickQuote:c})},t)}))})]})},S=a(74),B=a(755),w=a(802),D=a(822),E=a(404),R=a(806),Q=a(393),H=a(394),W=a(753),F=a(759),N=a(24),U=Object(i.a)((function(e){return{quoteView:{"& .MuiCard-root":{border:"1px solid ".concat(e.palette.common.mainLight),padding:"20px"},"& .MuiTypography-root":{fontSize:"16px",lineHeight:"30px"},"& .MuiList-root":{padding:0},"& .MuiListItem-root":{padding:0,paddingLeft:"15px","& .MuiListItemText-primary":{color:"#777"},"& .MuiListItemIcon-root":{minWidth:"25px"}}},outlinedInput:{maxWidth:"350px",borderRadius:"25px",backgroundColor:"#fff","& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.common.mainLight},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.common.mainLight},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.common.mainLight}},"& input":{color:"#666",fontSize:"24px",textAlign:"right"}},inputTitle:{zIndex:1,color:"#666",position:"absolute",top:10,left:40,fontSize:"16px"},valueTitle:{zIndex:1,color:"#666",position:"absolute",bottom:10,right:30,fontSize:"16px"},buttonGroup:{"& .MuiToggleButton-root":{border:"1px solid ".concat(e.palette.common.main),color:e.palette.common.main,padding:"5px","&:hover":{backgroundColor:e.palette.common.main,color:"#fff"},"&.Mui-selected":{backgroundColor:e.palette.common.main,color:"#fff"}}},confirmButton:{marginBottom:"20px",width:"200px",height:"40px",borderRadius:"15px",fontSize:"16px",fontWeight:"bold",color:e.palette.common.paper,background:e.palette.common.main,"&:hover":{background:e.palette.common.main,color:"#FFF"}},summaryBox:{position:"sticky",top:"150px"}}})),L=function(e){var t=e.selectedProduct,a=e.next,i=e.quoteDetail,l=e.setQuoteDetail,j=e.premium,d=U(),b=Object(f.c)((function(e){return e.app.nativeToken})),u=Object(f.c)((function(e){return e.account.chainData})),h=Object(f.c)((function(e){return e.account.chainData.faktr_balance})),O=Object(f.c)((function(e){return e.account.chainData.usdt_balance})),g=Object(N.c)().address,v=Object(N.d)({addressOrName:g}).data,M=Object(o.useState)("Confirm"),T=Object(n.a)(M,2),S=T[0],L=T[1];Object(o.useEffect)((function(){(u.usdt_purchase_allowance||1!==i.pay_token)&&(u.faktr_purchase_allowance||2!==i.pay_token)?L("Confirm"):L("Approve")}),[u,i]);var V=Object(o.useState)(b),P=Object(n.a)(V,2),G=P[0],q=P[1];return Object(y.jsx)(r.a.Fragment,{children:Object(y.jsxs)(A.a,{container:!0,className:d.quoteView,spacing:3,children:[Object(y.jsxs)(A.a,{item:!0,container:!0,xs:12,md:8,spacing:2,children:[Object(y.jsx)(A.a,{item:!0,xs:12,children:Object(y.jsx)(B.a,{children:Object(y.jsxs)(A.a,{container:!0,children:[Object(y.jsxs)(A.a,{item:!0,xs:12,children:[Object(y.jsx)(x.a,{sx:{fontWeight:"bold"},children:"Qutoe Detail"}),Object(y.jsxs)(x.a,{children:["This product covers any token or combination of tokens you have in the protocol. In case of a claim, you will receive the equivalent of your lost funds in USDT up to the covered amount. Alternatively you can select ",b,"."]})]}),Object(y.jsxs)(A.a,{container:!0,item:!0,children:[Object(y.jsx)(A.a,{item:!0,xs:12,lg:6,children:Object(y.jsxs)(s.a,{sx:{position:"relative",my:3,px:2},children:[Object(y.jsx)(x.a,{component:"span",className:d.inputTitle,children:"Cover Amount"}),Object(y.jsx)(k.a,{sx:{py:4,px:2},endAdornment:Object(y.jsxs)(w.a,{labelId:"cover amount input",value:i.cover_token,onChange:function(e){l(Object(c.a)(Object(c.a)({},i),{},{cover_token:e.target.value}))},children:[Object(y.jsx)(D.a,{pl:3,value:0,children:b}),Object(y.jsx)(D.a,{pl:1,value:1,children:"USDT"})]}),value:i.amount,onChange:function(e){return l(Object(c.a)(Object(c.a)({},i),{},{amount:e.target.value}))},className:d.outlinedInput,fullWidth:!0,type:"number",inputProps:{min:0}})]})}),Object(y.jsx)(A.a,{item:!0,xs:12,lg:6,children:Object(y.jsxs)(s.a,{sx:{position:"relative",my:3,px:2},children:[Object(y.jsx)(x.a,{component:"span",className:d.inputTitle,children:"Period(30 days minium)"}),Object(y.jsx)(k.a,{sx:{py:4,px:2},endAdornment:Object(y.jsx)(x.a,{pl:3,children:"DAYS"}),value:i.period,onChange:function(e){return l(Object(c.a)(Object(c.a)({},i),{},{period:e.target.value}))},className:d.outlinedInput,fullWidth:!0,type:"number",inputProps:{min:30}})]})})]})]})})}),Object(y.jsx)(A.a,{item:!0,xs:12,children:Object(y.jsxs)(B.a,{children:[Object(y.jsx)(s.a,{children:Object(y.jsx)(x.a,{sx:{fontWeight:"bold",mb:2},children:"Terms and Conditions"})}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(x.a,{children:"Covered:"}),Object(y.jsxs)(E.a,{children:[Object(y.jsxs)(R.a,{children:[Object(y.jsx)(Q.a,{children:Object(y.jsx)(I.j,{})}),Object(y.jsx)(H.a,{primary:"contract bugs"})]}),Object(y.jsxs)(R.a,{children:[Object(y.jsx)(Q.a,{children:Object(y.jsx)(I.j,{})}),Object(y.jsx)(H.a,{primary:"economic attacks, including oracle failures"})]}),Object(y.jsxs)(R.a,{children:[Object(y.jsx)(Q.a,{children:Object(y.jsx)(I.j,{})}),Object(y.jsx)(H.a,{primary:"governance attacks"})]})]})]}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(x.a,{children:"Claiming:"}),Object(y.jsxs)(E.a,{children:[Object(y.jsxs)(R.a,{children:[Object(y.jsx)(Q.a,{children:Object(y.jsx)(I.j,{})}),Object(y.jsx)(H.a,{primary:"You must provide proof of the incurred loss at claim time"})]}),Object(y.jsxs)(R.a,{children:[Object(y.jsx)(Q.a,{children:Object(y.jsx)(I.j,{})}),Object(y.jsx)(H.a,{primary:"You should wait 72 hours after the event, so assessors have all details to make a decision."})]}),Object(y.jsxs)(R.a,{children:[Object(y.jsx)(Q.a,{children:Object(y.jsx)(I.j,{})}),Object(y.jsx)(H.a,{primary:"You can claim up to 35 days after the cover period expires, given your cover was active when the incident happened."})]})]})]}),Object(y.jsx)(s.a,{children:Object(y.jsx)(x.a,{children:"This cover is not a contract of insurance. Cover is provided on a discretionary basis with faktr finance members having the final say on which claims are paid. Check out full details "})})]})})]}),Object(y.jsx)(A.a,{item:!0,xs:12,md:4,children:Object(y.jsxs)(B.a,{className:d.summaryBox,children:[Object(y.jsx)(x.a,{sx:{fontWeight:"bold"},children:"Summary"}),Object(y.jsxs)(s.a,{sx:{p:2,display:"flex",alignContent:"center"},children:[Object(y.jsx)("img",{src:C.a.API_SERVER+t.logo,alt:"logo",style:{width:"32px",height:"32px",marginRight:"15px"}}),Object(y.jsx)(x.a,{children:t.name})]}),Object(y.jsxs)(s.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)(x.a,{children:"Capacity:"}),Object(y.jsxs)(x.a,{children:["  ",(t.capacity.ETH>=1e3?Object(m.a)(t.capacity.ETH/1e3,2)+"k "+b:Object(m.a)(t.capacity.ETH,2)+" "+b)+(t.capacity.USDT>=1e3?"/"+Object(m.a)(t.capacity.USDT/1e3,2)+"k USDT":NaN+Object(m.a)(t.capacity.USDT,2)+"USDT")]})]}),Object(y.jsxs)(s.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)(x.a,{children:"You will pay:"}),Object(y.jsx)(x.a,{children:j+" "+G})]}),Object(y.jsxs)(s.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)(x.a,{children:"Balance:"}),Object(y.jsx)(x.a,{children:0===i.pay_token?Object(m.a)((null===v||void 0===v?void 0:v.value)/Math.pow(10,18),3)+b:1===i.pay_token?Object(m.a)(O,2)+" USDT":2===i.pay_token?Object(m.a)(h,2)+" FAKTR":void 0})]}),Object(y.jsxs)(s.a,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[Object(y.jsx)(x.a,{children:"Pay In:"}),Object(y.jsxs)(W.a,{className:d.buttonGroup,value:i.pay_token,onChange:function(e,t){null!==t&&(l(Object(c.a)(Object(c.a)({},i),{},{pay_token:t})),0===t?q(b):1===t?q("USDT"):2===t&&q("FAKTR"))},exclusive:!0,children:[Object(y.jsx)(F.a,{value:0,children:b}),Object(y.jsx)(F.a,{value:1,children:"USDT"}),Object(y.jsx)(F.a,{value:2,children:"Faktr"})]})]}),Object(y.jsx)(s.a,{sx:{display:"flex",justifyContent:"center",mt:3},children:Object(y.jsx)(p.a,{className:d.confirmButton,onClick:a,children:S})})]})})]})})},V=a(204),P=a(40),G=["Select Project","Get a Quote","Confirm"],q=Object(i.a)((function(e){return{stepper:{"& .MuiSvgIcon-root":{width:"32px",height:"32px"},"& .MuiSvgIcon-root.Mui-active,& .MuiSvgIcon-root.Mui-completed ":{color:e.palette.common.main},"& .MuiStepLabel-label.Mui-active,& .MuiStepLabel-label.Mui-completed":{color:e.palette.common.main,fontWeight:"bold"}}}}));t.default=function(){var e=Object(o.useState)(0),t=Object(n.a)(e,2),a=t[0],i=t[1],r=q(),u=Object(N.i)().chain,x=Object(N.k)().data,p=Object(V.a)(),h=p.purchaseInsurance,O=p.approveUsdt,g=p.approveFaktr,v=Object(f.c)((function(e){return e.account.chainData.faktr_balance})),I=Object(f.c)((function(e){return e.account.chainData.usdt_balance})),k=Object(N.c)().address,M=Object(N.d)({addressOrName:k}).data,C=Object(o.useState)(),B=Object(n.a)(C,2),w=B[0],D=B[1],E=Object(o.useState)({amount:0,cover_token:0,period:30,pay_token:0}),R=Object(n.a)(E,2),Q=R[0],H=R[1],W=Object(o.useState)(0),F=Object(n.a)(W,2),U=F[0],X=F[1],Y=Object(o.useState)(0),z=Object(n.a)(Y,2),K=z[0],_=z[1],Z=Object(f.c)((function(e){return e.app.products})),J=Object(f.c)((function(e){return e.app.stats})),$=Object(f.c)((function(e){return e.account.chainData})),ee=function(){if(a<2&&i((function(e){return e+1})),a>=1&&u&&ae()){if(!$.usdt_purchase_allowance&&1===Q.pay_token)return void O(S.b[u.id],u.id,x);if(!$.faktr_purchase_allowance&&2===Q.pay_token)return void g(S.b[u.id],u.id,x);h(Object(c.a)(Object(c.a)({},Q),{},{productId:w.product_id,premium:U,rewards:K}),u.id,x)}};Object(o.useEffect)((function(){var e=0;if(w&&J){var t=w.yearly_cost*Q.amount*Q.period/30;0===Q.cover_token?(_(t*J.faktrPrice.NATIVE.FAKTR),0===Q.pay_token?e=Object(m.a)(t,3):1===Q.pay_token?e=Object(m.a)(t*J.faktrPrice.NATIVE.USDT,3):2===Q.pay_token&&(e=Object(m.a)(t*J.faktrPrice.NATIVE.FAKTR,3))):1===Q.cover_token&&(_(t*J.faktrPrice.USDT.FAKTR),0===Q.pay_token?e=Object(m.a)(t*J.faktrPrice.USDT.NATIVE,3):1===Q.pay_token?e=Object(m.a)(t,3):2===Q.pay_token&&(e=Object(m.a)(t*J.faktrPrice.USDT.FAKTR,3)))}X(e)}),[Q]);var te=function(e){D(Z[e])},ae=function(){var e=Object(m.a)((null===M||void 0===M?void 0:M.value)/Math.pow(10,18),3);return console.log(Q.pay_token,U,I),Q.period<30||Q.period>365?(P.b.error("Select the period between 30-365 days."),!1):0===Q.amount||""===Q.amount?(P.b.error("Input cover amount."),!1):0===Q.pay_token&&Number(U)>e?(P.b.error("Premium exceed token balance."),!1):1===Q.pay_token&&Number(U)>I?(console.log(U,I),P.b.error("Premium exceed USDT balance."),!1):!(2===Q.pay_token&&Number(U)>v)||(P.b.error("Premium exceed FAKTR balance."),!1)};return Object(y.jsxs)(b.a,{title:"Choose the type of cover you want and get a quote",sx:{minHeight:"85vh",overflow:"visible"},children:[Object(y.jsx)(A.a,{container:!0,children:Object(y.jsx)(A.a,{item:!0,xs:12,sx:{mb:3,display:"flex",justifyContent:"center"},alignItems:"center",children:Object(y.jsx)(s.a,{sx:{width:{xs:"100%",md:"80%"}},children:Object(y.jsx)(l.a,{activeStep:a,alternativeLabel:!0,className:r.stepper,children:G.map((function(e){return Object(y.jsx)(j.a,{children:Object(y.jsx)(d.a,{children:e})},e)}))})})})}),Object(y.jsx)(A.a,{container:!0,children:Object(y.jsx)(A.a,{item:!0,xs:12,children:0===a?Object(y.jsx)(T,{next:ee,protocols:Z,onClickQuote:te}):1===a||2===a?Object(y.jsx)(L,{selectedProduct:w,next:ee,quoteDetail:Q,setQuoteDetail:H,premium:U}):void 0})})]})}}}]);
//# sourceMappingURL=14.e99e8b5c.chunk.js.map